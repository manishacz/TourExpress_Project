<% layout("/layouts/boilerplate") %> 
    <body>
        <!-- <h3>All Listing</h3> -->
        <style>
          #filters {
            display: flex;
            flex-wrap: wrap;
            /* justify-content: center; */
            margin-top: 1rem;
          }
          .filter {
            text-align: center;
            margin-right: 2rem;
            margin-top: 2rem;
            opacity: 0.7;
          }
          .filter:hover {
            opacity: 1;
            cursor: pointer;
          }
          .filter p{
            font-size: small;
          }
          .taxinfo {
            display: none;
          }
          .tax-toggle {
            border: 1px solid black;    
            margin-top: 1rem;
            padding: 0.5rem;
            border-radius: 8px;
            height: 3rem;
            margin-left: 2.0rem;  
          }
          .filter-btn {
            margin-top: 1rem;
            border: 1px solid black!important;
            padding-top:0.5rem;
            padding-bottom:0.5rem;
            width: 5.5rem;
            height: 3rem;
          }
        </style>
        <div id="filters" >
          <div class="filter">
            <div><i class="fa-solid fa-fire"></i></div>
            <p>Trending</p>
          </div>
          <div class="filter">
            <div><i class="fas fa-hotel"></i></div>
            <p>Rooms</p>
          </div>
          <div class="filter">
            <div><i class="fa-solid fa-city"></i></div>
            <p>Iconic cities</p>
          </div>
          <div class="filter">
            <div><i class="fa-solid fa-campground"></i></div>
            <p>Camping</p>
          </div>
          <div class="filter">
            <div><i class="fa-brands fa-fort-awesome"></i></div>
            <p>Castles</p>
          </div>
          <div class="filter">
            <div><i class="fa-solid fa-umbrella-beach"></i></div>
            <p>Beachfront</p>
          </div>
          <div class="filter">
            <div><i class="fa-solid fa-campground"></i></div>
            <p>Camping</p>
          </div>
          <div class="filter">
            <div><i class="fa-solid fa-person-hiking"></i></div>
            <p>Hikings</p>
          </div>
          <div class="filter">
            <div><i class="fa-solid fa-shop"></i></div>
            <p>Village Side</p>
          </div>
          <div class="filter">
            <div><i class="fa-regular fa-snowflake"></i></div> 
            <p>Hill stations</p>  
          </div>  
          <div class="dropdown">
            <button class="btn dropdown-toggle filter-btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <b>Filter</b>
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
          <div class="tax-toggle">
            <div class="form-check form-switch form-check-reverse">
              <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
              <label class="form-check-label" for="flexSwitchCheckDefault"><b>Display Total before taxes</b></label>
            </div>
          </div>
        </div>
        <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1"> 
           <% for(let Listing of Listings) { %>
       <a href="/listings/<%=Listing._id %>" class="listing-link">
        <div class="card col listing-card">
            <img src="<%= Listing.image.url %>" class="card-img-top" alt="Listing-image" style="height: 20rem;">
            <div class="card-img-overlay"></div>
            <div class="card-body">
              <p class="card-text"><b><%=Listing.title%></b>
                <br>
                &#8377; <%=Listing.price %>/night
                <i class="taxinfo">&nbsp;&nbsp;+18%GST</i>
                <br>
              </p>
            </div>
          </div>
        </a> 
          <% } %> </div>
    </body>
<script>
  let taxSwitch = document.getElementById('flexSwitchCheckDefault');
  taxSwitch.addEventListener('click',()=>{
   let taxinfo = document.getElementsByClassName('taxinfo');
   for(info of taxinfo){
    info.style.display = taxSwitch.checked ? 'inline' : 'none';
   }
  }
  );
</script>
